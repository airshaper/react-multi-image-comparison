(function(j,r){typeof exports=="object"&&typeof module!="undefined"?r(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],r):(j=typeof globalThis!="undefined"?globalThis:j||self,r(j.ReactMultiImageComparison={},j.React))})(this,function(j,r){"use strict";function k(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var P=k(r),E={exports:{}},Y="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",H=Y,W=H;function I(){}function _(){}_.resetWarningCache=I;var F=function(){function e(l,u,d,M,m,h){if(h!==W){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function n(){return e}var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:_,resetWarningCache:I};return a.PropTypes=a,a};E.exports=F();var y=E.exports,D={exports:{}},v={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z=P.default,B=Symbol.for("react.element"),Q=Symbol.for("react.fragment"),V=Object.prototype.hasOwnProperty,G=Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,X={key:!0,ref:!0,__self:!0,__source:!0};function A(e,n,a){var l,u={},d=null,M=null;a!==void 0&&(d=""+a),n.key!==void 0&&(d=""+n.key),n.ref!==void 0&&(M=n.ref);for(l in n)V.call(n,l)&&!X.hasOwnProperty(l)&&(u[l]=n[l]);if(e&&e.defaultProps)for(l in n=e.defaultProps,n)u[l]===void 0&&(u[l]=n[l]);return{$$typeof:B,type:e,key:d,ref:M,props:u,_owner:G.current}}v.Fragment=Q,v.jsx=A,v.jsxs=A,D.exports=v;const L=D.exports.jsx,R=D.exports.jsxs;function U({totalWidth:e,totalHeight:n,totalImages:a,zIndex:l,listWidths:u,setListWidths:d,updateDesc:M}){const m=Array.from({length:a-1},(f,t)=>e/a*(t+1)-15),h=r.useRef([]),[c,b]=r.useState(null),[g,N]=r.useState(m),[T,S]=r.useState(Array(a-1).fill(0));r.useEffect(()=>(document.addEventListener("pointermove",i),document.addEventListener("pointerup",o),document.addEventListener("touchend",o),document.addEventListener("touchmove",i),()=>{document.removeEventListener("pointermove",i),document.removeEventListener("pointerup",o),document.removeEventListener("touchend",o),document.removeEventListener("touchmove",i)}));const w=(f,t)=>{b(t),S(Object.assign([],T,{[t]:f.pageX-h.current[t].offsetLeft}))},o=f=>{b(null)},s=(f,t)=>{b(t),S(Object.assign([],T,{[t]:f.pageX-h.current[t].offsetLeft}))},i=f=>{if(c!==null){let t=h.current[c];const p=Math.min(Math.max(f.touches?f.touches[0].clientX:f.clientX-T[c],0-t.clientWidth/2),e-t.clientWidth/2);d(Object.assign([],u,{[c]:p+t.clientWidth/2})),N(Object.assign([],g,{[c]:p})),g.forEach((z,x)=>{c>x&&t.offsetLeft<=z&&(N(Object.assign([],g,{[x]:p-3})),d(Object.assign([],u,{[x]:p+15}))),c<x&&t.offsetLeft>=z&&(N(Object.assign([],g,{[x]:p+3})),d(Object.assign([],u,{[x]:p+15})))}),M(g)}},C=f=>{const t=30/n*100,z=.5*t,x=t+z,J=(a-1)*x;return 50+J/2-f*x};return r.useEffect(()=>{N(m)},[e,n]),L("div",{className:"handles",children:Array(a-1).fill(0).map((f,t)=>L("div",{ref:p=>h.current[t]=p,onPointerDown:p=>w(p,t),onTouchStart:p=>s(p,t),className:"handle",style:{zIndex:a-2*t+l,left:`${g[t]}px`,top:`${C(t)}%`}},t))})}U.propTypes={totalWidth:y.number.isRequired,totalHeight:y.number.isRequired,totalImages:y.number.isRequired,zIndex:y.number.isRequired,listWidths:y.array.isRequired,setListWidths:y.func.isRequired,updateDesc:y.func};var K=(()=>`body{margin:0;padding:0}.rmic{position:relative;display:flex;max-width:100%;width:100%;overflow:hidden;user-select:none;padding:0;margin:0}.rmic>*{width:100%}.rmic li{width:100%;overflow:hidden;display:inline-block;border-right:1px solid #fff}.rmic li>*{position:relative}.rmic li:first-child{position:relative}.rmic li:not(:first-child){position:absolute;top:0;left:0}.rmic li span{font-size:15px;position:absolute;top:15px;left:0;color:#fff;text-shadow:-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000;transition:opacity .3s ease-in-out;z-index:200}.handle{position:absolute;border-radius:100%;width:30px;height:30px;background-color:#fff;background-position:50%;background-size:60%;background-repeat:no-repeat;background-image:url(data:image/svg+xml;base64,PHN2ZyBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNTEuMjQ3IDI1MS4yNDciIHZpZXdCb3g9IjAgMCAyNTEuMjQ3IDI1MS4yNDciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0ibTI0OC42MTEgMTE5LjI1OS01MS4wMDUtNTEuMDA1Yy0zLjUxNi0zLjUxNS05LjIxMy0zLjUxNS0xMi43MjkgMC0zLjUxNSAzLjUxNS0zLjUxNSA5LjIxMyAwIDEyLjcyOGwzNS42NDIgMzUuNjQxaC0xODkuNzkxbDM1LjY0Mi0zNS42NDFjMy41MTUtMy41MTUgMy41MTUtOS4yMTMgMC0xMi43MjgtMy41MTYtMy41MTUtOS4yMTMtMy41MTUtMTIuNzI5IDBsLTUxLjAwNSA1MS4wMDVjLTMuNTE1IDMuNTE1LTMuNTE1IDkuMjEzIDAgMTIuNzI4bDUxLjAwNSA1MS4wMDVjMS43NTggMS43NTcgNC4wNjEgMi42MzYgNi4zNjQgMi42MzZzNC42MDYtLjg3OSA2LjM2NC0yLjYzNmMzLjUxNS0zLjUxNSAzLjUxNS05LjIxMyAwLTEyLjcyOGwtMzUuNjQyLTM1LjY0MWgxODkuNzkxbC0zNS42NDIgMzUuNjQxYy0zLjUxNSAzLjUxNS0zLjUxNSA5LjIxMyAwIDEyLjcyOCAxLjc1OCAxLjc1NyA0LjA2MSAyLjYzNiA2LjM2NCAyLjYzNnM0LjYwNi0uODc5IDYuMzY0LTIuNjM2bDUxLjAwNS01MS4wMDVjMy41MTYtMy41MTUgMy41MTYtOS4yMTMuMDAyLTEyLjcyOHoiLz48L3N2Zz4=);top:50%;cursor:ew-resize;transform:translateY(-50%);z-index:1;box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b;transition:box-shadow .2s cubic-bezier(.25,.8,.25,1)}.handle:hover{box-shadow:0 14px 28px #00000040,0 10px 10px #00000038}.handle:active{box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b}
`)();function O({imagePaths:e,imageDescs:n,zIndex:a}){const l=r.useRef([]),u=r.useRef(null),[d,M]=r.useState(Array(e.length).fill(0)),[m,h]=r.useState([]),[c,b]=r.useState(0),[g,N]=r.useState(0),T=Array.from({length:e.length},(o,s)=>c/e.length*(s+1)),S=o=>{M(d.map((s,i)=>w(i,o)))},w=(o,s)=>{const i=l.current[o].clientWidth;return o===0?m[o]/2-i/2:e.length-1===o?(m[o]+s[o-1])/2-i/2:(s[o-1]+s[o])/2-i/4};return r.useEffect(()=>{const o=u.current,s=new ResizeObserver(([i,...C])=>{b(i.target.getBoundingClientRect().width),N(i.target.getBoundingClientRect().height)});return s.observe(o),()=>s.disconnect()},[]),r.useEffect(()=>{let o=d.map((s,i)=>c/e.length*(2*i+1)*.5-l.current[i].clientWidth/2);M(o)},[c]),r.useEffect(()=>{h(T)},[c]),R("div",{style:{position:"relative"},children:[L("ul",{className:"rmic",ref:u,children:e.map((o,s)=>R("li",{style:{zIndex:e.length-(2*s+1)+a,width:`${m[s]}px`},children:[L("img",{src:o,alt:"Alt",style:{width:c}}),n.length>0&&L("span",{ref:i=>l.current[s]=i,style:{left:`${d[s]}px`},children:n[s]})]},s))}),L(U,{totalWidth:c,totalHeight:g,listWidths:m,setListWidths:h,updateDesc:S,totalImages:e.length,zIndex:a})]})}O.defaultProps={zIndex:100,imageDescs:[]},O.propTypes={imagePaths:y.array.isRequired,imageDescs:y.array,zIndex:y.number},j.ReactMultiImageComparison=O,Object.defineProperties(j,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
//# sourceMappingURL=react-multi-image-comparison.umd.js.map
