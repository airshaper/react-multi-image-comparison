(function(R,o){typeof exports=="object"&&typeof module!="undefined"?o(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],o):(R=typeof globalThis!="undefined"?globalThis:R||self,o(R.ReactMultiImageComparison={},R.React))})(this,function(R,o){"use strict";function A(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var F=A(o),D={exports:{}},M="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",z=M,B=z;function W(){}function w(){}w.resetWarningCache=W;var U=function(){function e(l,f,p,v,g,m){if(m!==B){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}e.isRequired=e;function n(){return e}var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:w,resetWarningCache:W};return a.PropTypes=a,a};D.exports=U();var h=D.exports,j={exports:{}},S={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X=F.default,Y=Symbol.for("react.element"),J=Symbol.for("react.fragment"),V=Object.prototype.hasOwnProperty,G=X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,K={key:!0,ref:!0,__self:!0,__source:!0};function I(e,n,a){var l,f={},p=null,v=null;a!==void 0&&(p=""+a),n.key!==void 0&&(p=""+n.key),n.ref!==void 0&&(v=n.ref);for(l in n)V.call(n,l)&&!K.hasOwnProperty(l)&&(f[l]=n[l]);if(e&&e.defaultProps)for(l in n=e.defaultProps,n)f[l]===void 0&&(f[l]=n[l]);return{$$typeof:Y,type:e,key:p,ref:v,props:f,_owner:G.current}}S.Fragment=J,S.jsx=I,S.jsxs=I,j.exports=S;const b=j.exports.jsx,H=j.exports.jsxs;function N({totalWidth:e,totalHeight:n,totalImages:a,zIndex:l,listWidths:f,setListWidths:p,updateDesc:v}){const g=Array.from({length:a-1},(d,t)=>e/a*(t+1)-15),m=o.useRef([]),[i,T]=o.useState(null),[_,O]=o.useState(g),[E,x]=o.useState(Array(a-1).fill(0));o.useEffect(()=>(document.addEventListener("pointermove",c),document.addEventListener("pointerup",s),document.addEventListener("touchend",s),document.addEventListener("touchmove",c),()=>{document.removeEventListener("pointermove",c),document.removeEventListener("pointerup",s),document.removeEventListener("touchend",s),document.removeEventListener("touchmove",c)}));const C=(d,t)=>{T(t),x(Object.assign([],E,{[t]:d.pageX-m.current[t].offsetLeft}))},s=d=>{T(null)},r=(d,t)=>{T(t),x(Object.assign([],E,{[t]:d.pageX-m.current[t].offsetLeft}))},c=d=>{if(i!==null){let t=m.current[i];const u=Math.min(Math.max(d.touches?d.touches[0].clientX:d.clientX-E[i],0-t.clientWidth/2),e-t.clientWidth/2);p(Object.assign([],f,{[i]:u+t.clientWidth/2})),O(Object.assign([],_,{[i]:u})),_.forEach((L,y)=>{i>y&&t.offsetLeft<=L&&(O(Object.assign([],_,{[y]:u-3})),p(Object.assign([],f,{[y]:u+15}))),i<y&&t.offsetLeft>=L&&(O(Object.assign([],_,{[y]:u+3})),p(Object.assign([],f,{[y]:u+15})))}),v(_)}},k=d=>{const t=30/n*100,L=.5*t,y=t+L,Q=(a-1)*y;return 50+Q/2-d*y};return o.useEffect(()=>{O(g)},[e,n]),b("div",{className:"handles",children:Array(a-1).fill(0).map((d,t)=>b("div",{ref:u=>m.current[t]=u,onPointerDown:u=>C(u,t),onTouchStart:u=>r(u,t),className:"handle",style:{zIndex:a-2*t+l,left:`${_[t]}px`,top:`${k(t)}%`}},t))})}N.propTypes={totalWidth:h.number.isRequired,totalHeight:h.number.isRequired,totalImages:h.number.isRequired,zIndex:h.number.isRequired,listWidths:h.array.isRequired,setListWidths:h.func.isRequired,updateDesc:h.func};function P({imagePaths:e,imageDescs:n,zIndex:a}){const l=o.useRef([]),f=o.useRef(null),[p,v]=o.useState(Array(e.length).fill(0)),[g,m]=o.useState([]),[i,T]=o.useState(0),[_,O]=o.useState(0),E=Array.from({length:e.length},(s,r)=>i/e.length*(r+1)),x=s=>{v(p.map((r,c)=>C(c,s)))},C=(s,r)=>{const c=l.current[s].clientWidth;return s===0?g[s]/2-c/2:e.length-1===s?(g[s]+r[s-1])/2-c/2:(r[s-1]+r[s])/2-c/4};return o.useEffect(()=>{const s=f.current,r=new ResizeObserver(([c,...k])=>{T(c.target.getBoundingClientRect().width),O(c.target.getBoundingClientRect().height)});return r.observe(s),()=>r.disconnect()},[]),o.useEffect(()=>{let s=p.map((r,c)=>i/e.length*(2*c+1)*.5-l.current[c].clientWidth/2);v(s)},[i]),o.useEffect(()=>{m(E)},[i]),H("div",{style:{position:"relative"},children:[b("ul",{className:"rmic",ref:f,children:e.map((s,r)=>H("li",{style:{zIndex:e.length-(2*r+1)+a,width:`${g[r]}px`},children:[b("img",{src:s,alt:"Alt",style:{width:i}}),n.length>0&&b("span",{ref:c=>l.current[r]=c,style:{left:`${p[r]}px`},children:n[r]})]},r))}),b(N,{totalWidth:i,totalHeight:_,listWidths:g,setListWidths:m,updateDesc:x,totalImages:e.length,zIndex:a})]})}P.defaultProps={zIndex:100,imageDescs:[]},P.propTypes={imagePaths:h.array.isRequired,imageDescs:h.array,zIndex:h.number},R.ReactMultiImageComparison=P,Object.defineProperties(R,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
//# sourceMappingURL=react-multi-image-comparison.umd.js.map
