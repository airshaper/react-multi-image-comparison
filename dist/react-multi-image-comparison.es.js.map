{"version":3,"file":"react-multi-image-comparison.es.js","sources":["../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/index.js","../node_modules/react/cjs/react-jsx-runtime.production.min.js","../node_modules/react/jsx-runtime.js","../react/jsx-runtime","../src/Handles.jsx","../src/ReactMultiImageComparison.jsx"],"sourcesContent":["/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","import * as jsxRuntime from \"/Users/nikola/Projects/github/react-multi-image-comparison/node_modules/react/jsx-runtime.js\"\nexport const jsx = jsxRuntime.jsx\nexport const jsxs = jsxRuntime.jsxs\nexport const Fragment = jsxRuntime.Fragment","import { useEffect, useRef, useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\nexport function Handles({\n  totalWidth,\n  totalHeight,\n  totalImages,\n  zIndex,\n  listWidths,\n  setListWidths,\n  updateDesc,\n}) {\n  const initialDimensions = Array.from(\n    { length: totalImages - 1 },\n    (_, i) => (totalWidth / totalImages) * (i + 1) - 30 / 2\n  );\n\n  const handleRefs = useRef([]);\n  const [activeHandle, setActiveHandle] = useState(null);\n  const [handlePositions, setHandlePositions] = useState(initialDimensions);\n  const [handleOffsets, setHandleOffsets] = useState(\n    Array(totalImages - 1).fill(0)\n  );\n\n  useEffect(() => {\n    document.addEventListener(\"pointermove\", moveEvent);\n    document.addEventListener(\"pointerup\", onEnd);\n    document.addEventListener(\"touchend\", onEnd);\n    document.addEventListener(\"touchmove\", moveEvent);\n\n    return () => {\n      document.removeEventListener(\"pointermove\", moveEvent);\n      document.removeEventListener(\"pointerup\", onEnd);\n      document.removeEventListener(\"touchend\", onEnd);\n      document.removeEventListener(\"touchmove\", moveEvent);\n    };\n  });\n\n  const onPointerDown = (e, i) => {\n    setActiveHandle(i);\n    setHandleOffsets(\n      Object.assign([], handleOffsets, {\n        [i]: e.pageX - handleRefs.current[i].offsetLeft,\n      })\n    );\n  };\n  const onEnd = (e) => {\n    setActiveHandle(null);\n  };\n  const touchStart = (e, i) => {\n    setActiveHandle(i);\n    setHandleOffsets(\n      Object.assign([], handleOffsets, {\n        [i]: e.pageX - handleRefs.current[i].offsetLeft,\n      })\n    );\n  };\n\n  const moveEvent = (e) => {\n    if (activeHandle !== null) {\n      let handle = handleRefs.current[activeHandle];\n      const handlePosition = Math.min(\n        Math.max(\n          e.touches\n            ? e.touches[0].clientX\n            : e.clientX - handleOffsets[activeHandle],\n          0 - handle.clientWidth / 2\n        ),\n        totalWidth - handle.clientWidth / 2\n      );\n\n      setListWidths(\n        Object.assign([], listWidths, {\n          [activeHandle]: handlePosition + handle.clientWidth / 2,\n        })\n      );\n\n      setHandlePositions(\n        Object.assign([], handlePositions, {\n          [activeHandle]: handlePosition,\n        })\n      );\n\n      handlePositions.forEach((h, index) => {\n        if (activeHandle > index && handle.offsetLeft <= h) {\n          setHandlePositions(\n            Object.assign([], handlePositions, {\n              [index]: handlePosition - 3,\n            })\n          );\n\n          setListWidths(\n            Object.assign([], listWidths, {\n              [index]: handlePosition + 15,\n            })\n          );\n        }\n\n        if (activeHandle < index && handle.offsetLeft >= h) {\n          setHandlePositions(\n            Object.assign([], handlePositions, {\n              [index]: handlePosition + 3,\n            })\n          );\n          setListWidths(\n            Object.assign([], listWidths, {\n              [index]: handlePosition + 15,\n            })\n          );\n        }\n      });\n\n      updateDesc(handlePositions);\n    }\n  };\n\n  const handlePosition = (i) => {\n    const handleHeight = (30 / totalHeight) * 100;\n\n    const handleClearanceFactor = 0.5;\n    const heightClearance = handleClearanceFactor * handleHeight;\n    const handleDistance = handleHeight + heightClearance;\n\n    const handleHeightFirstToLast = (totalImages - 1) * handleDistance;\n\n    return 50 + handleHeightFirstToLast / 2 - i * handleDistance;\n  };\n\n  useEffect(() => {\n    setHandlePositions(initialDimensions);\n  }, [totalWidth, totalHeight]);\n\n  return (\n    <div className=\"handles\">\n      {Array(totalImages - 1)\n        .fill(0)\n        .map((_, i) => (\n          <div\n            key={i}\n            ref={(ref) => (handleRefs.current[i] = ref)}\n            onPointerDown={(e) => onPointerDown(e, i)}\n            onTouchStart={(e) => touchStart(e, i)}\n            className=\"handle\"\n            style={{\n              zIndex: totalImages - 2 * i + zIndex,\n              left: `${handlePositions[i]}px`,\n              top: `${handlePosition(i)}%`,\n            }}\n          ></div>\n        ))}\n    </div>\n  );\n}\n\nHandles.propTypes = {\n  totalWidth: PropTypes.number.isRequired,\n  totalHeight: PropTypes.number.isRequired,\n  totalImages: PropTypes.number.isRequired,\n  zIndex: PropTypes.number.isRequired,\n  listWidths: PropTypes.array.isRequired,\n  setListWidths: PropTypes.func.isRequired,\n  updateDesc: PropTypes.func,\n};\n","import { useRef, useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Handles } from \"./Handles\";\nimport \"./style.scss\";\n\nexport function ReactMultiImageComparison({ imagePaths, imageDescs, zIndex }) {\n  const textRefs = useRef([]);\n  const listRef = useRef(null);\n  const [descLeft, setDescLeft] = useState(Array(imagePaths.length).fill(0));\n  const [listWidths, setListWidths] = useState([]);\n  const [totalWidth, setTotalWidth] = useState(0);\n  const [totalHeight, setTotalHeight] = useState(0);\n\n  const initialListWidths = Array.from(\n    { length: imagePaths.length },\n    (_, i) => (totalWidth / imagePaths.length) * (i + 1)\n  );\n\n  const updateDesc = (handlePositions) => {\n    setDescLeft(\n      descLeft.map((_item, idx) => textPosition(idx, handlePositions))\n    );\n  };\n\n  const textPosition = (i, handlePositions) => {\n    const textWidth = textRefs.current[i].clientWidth;\n    // first\n    if (i === 0) {\n      return listWidths[i] / 2 - textWidth / 2;\n    }\n\n    //last\n    if (imagePaths.length - 1 === i) {\n      return (listWidths[i] + handlePositions[i - 1]) / 2 - textWidth / 2;\n    }\n\n    // all others except first and last\n    return (handlePositions[i - 1] + handlePositions[i]) / 2 - textWidth / 4;\n  };\n\n  useEffect(() => {\n    const listElement = listRef.current;\n    const resizeObserver = new ResizeObserver(([entry, ..._]) => {\n      setTotalWidth(entry.target.getBoundingClientRect().width);\n      setTotalHeight(entry.target.getBoundingClientRect().height);\n    });\n    resizeObserver.observe(listElement);\n\n    return () => resizeObserver.disconnect();\n  }, []);\n\n  useEffect(() => {\n    let initialDescPositions = descLeft.map(\n      (_item, i) =>\n        (totalWidth / imagePaths.length) * (2 * i + 1) * 0.5 -\n        textRefs.current[i].clientWidth / 2\n    );\n    setDescLeft(initialDescPositions);\n  }, [totalWidth]);\n\n  useEffect(() => {\n    setListWidths(initialListWidths);\n  }, [totalWidth]);\n\n  return (\n    <div style={{ position: \"relative\" }}>\n      <ul className=\"rmic\" ref={listRef}>\n        {imagePaths.map((image, i) => (\n          <li\n            key={i}\n            style={{\n              zIndex: imagePaths.length - (2 * i + 1) + zIndex,\n              width: `${listWidths[i]}px`,\n            }}\n          >\n            <img src={image} alt=\"Alt\" style={{ width: totalWidth }} />\n            {imageDescs.length > 0 && (\n              <span\n                ref={(ref) => (textRefs.current[i] = ref)}\n                style={{ left: `${descLeft[i]}px` }}\n              >\n                {imageDescs[i]}\n              </span>\n            )}\n          </li>\n        ))}\n      </ul>\n      <Handles\n        totalWidth={totalWidth}\n        totalHeight={totalHeight}\n        listWidths={listWidths}\n        setListWidths={setListWidths}\n        updateDesc={updateDesc}\n        totalImages={imagePaths.length}\n        zIndex={zIndex}\n      />\n    </div>\n  );\n}\n\nReactMultiImageComparison.defaultProps = {\n  zIndex: 100,\n  imageDescs: [],\n};\n\nReactMultiImageComparison.propTypes = {\n  imagePaths: PropTypes.array.isRequired,\n  imageDescs: PropTypes.array,\n  zIndex: PropTypes.number,\n  //   optionalBigInt: PropTypes.bigint,\n  //   optionalBool: PropTypes.bool,\n  //   optionalFunc: PropTypes.func,\n  //   optionalNumber: PropTypes.number,\n  //   optionalObject: PropTypes.object,\n  //   optionalString: PropTypes.string,\n  //   optionalSymbol: PropTypes.symbol,\n};\n"],"names":["ReactPropTypesSecret","require$$0","propTypesModule","jsxRuntimeModule","jsxRuntime.jsx","jsxRuntime.jsxs","totalWidth","totalHeight","totalImages","zIndex","listWidths","setListWidths","updateDesc","initialDimensions","Array","from","length","_","i","handleRefs","useRef","activeHandle","setActiveHandle","useState","handlePositions","setHandlePositions","handleOffsets","setHandleOffsets","fill","useEffect","addEventListener","moveEvent","onEnd","removeEventListener","onPointerDown","e","Object","assign","pageX","current","offsetLeft","touchStart","handle","handlePosition","Math","min","max","touches","clientX","clientWidth","forEach","h","index","handleHeight","handleClearanceFactor","heightClearance","handleDistance","handleHeightFirstToLast","map","ref","left","top","Handles","propTypes","PropTypes","number","isRequired","array","func","imagePaths","imageDescs","textRefs","listRef","descLeft","setDescLeft","setTotalWidth","setTotalHeight","initialListWidths","_item","idx","textPosition","textWidth","listElement","resizeObserver","ResizeObserver","entry","target","getBoundingClientRect","width","height","observe","disconnect","initialDescPositions","position","_jsx","image","ReactMultiImageComparison","defaultProps"],"mappings":";;AASA,IAAIA,yBAAuB;AAE3B,IAAA,yBAAiBA;ACFjB,IAAI,uBAAuBC;AAE3B,yBAAyB;AAAE;AAC3B,kCAAkC;AAAE;AACpC,uBAAuB,oBAAoB;AAE3C,IAAA,2BAAiB,WAAW;AAC1B,gBAAc,OAAO,UAAU,eAAe,UAAU,cAAc,QAAQ;AAC5E,QAAI,WAAW,sBAAsB;AAEnC;AAAA,IACD;AACD,QAAI,MAAM,IAAI,MACZ,iLAGN;AACI,QAAI,OAAO;AACX,UAAM;AAAA,EACV;AACE,OAAK,aAAa;AAClB,qBAAmB;AACjB,WAAO;AAAA,EAEX;AAEE,MAAI,iBAAiB;AAAA,IACnB,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,MAAM;AAAA,IACN,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,QAAQ;AAAA,IACR,QAAQ;AAAA,IACR,QAAQ;AAAA,IAER,KAAK;AAAA,IACL,SAAS;AAAA,IACT,SAAS;AAAA,IACT,aAAa;AAAA,IACb,YAAY;AAAA,IACZ,MAAM;AAAA,IACN,UAAU;AAAA,IACV,OAAO;AAAA,IACP,WAAW;AAAA,IACX,OAAO;AAAA,IACP,OAAO;AAAA,IAEP,gBAAgB;AAAA,IAChB,mBAAmB;AAAA,EACvB;AAEE,iBAAe,YAAY;AAE3B,SAAO;AACT;AClDO;AAGLC,YAAc,UAAGD;AACnB;;;;;;;;;;;;;ACTa,IAAI,IAAE,YAAiB,IAAE,OAAO,IAAI,eAAe,GAAE,IAAE,OAAO,IAAI,gBAAgB,GAAE,IAAE,OAAO,UAAU,gBAAe,IAAE,EAAE,mDAAmD,mBAAkB,IAAE,EAAC,KAAI,MAAG,KAAI,MAAG,QAAO,MAAG,UAAS,KAAE;AAClP,WAAW,GAAE,GAAE,GAAE;AAAC,MAAI,GAAE,IAAE,IAAG,IAAE,MAAK,IAAE;AAAK,EAAS,MAAT,UAAa,KAAE,KAAG;AAAG,EAAS,EAAE,QAAX,UAAiB,KAAE,KAAG,EAAE;AAAK,EAAS,EAAE,QAAX,UAAiB,KAAE,EAAE;AAAK,OAAI,KAAK;AAAE,MAAE,KAAK,GAAE,CAAC,KAAG,CAAC,EAAE,eAAe,CAAC,KAAI,GAAE,KAAG,EAAE;AAAI,MAAG,KAAG,EAAE;AAAa,SAAI,KAAK,IAAE,EAAE,cAAa;AAAE,MAAS,EAAE,OAAX,UAAgB,GAAE,KAAG,EAAE;AAAI,SAAM,EAAC,UAAS,GAAE,MAAK,GAAE,KAAI,GAAE,KAAI,GAAE,OAAM,GAAE,QAAO,EAAE,QAAO;AAAC;0CAAkB;AAAa,+BAAA,MAAC;AAAE,+BAAA,OAAa;ACR/T;AACzCE,aAAA,UAAiBF;AACnB;ACHO,MAAM,MAAMG,WAAc,QAAA;AAC1B,MAAM,OAAOC,WAAAA,QAAAA;ACCI,iBAAA;AAAA,EACtBC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,EACAC;AAAAA,GACC;AACKC,QAAAA,oBAAoBC,MAAMC,KAC9B;AAAA,IAAEC,QAAQR,cAAc;AAAA,EAAA,GACxB,CAACS,GAAGC,MAAOZ,aAAaE,cAAgBU,KAAI,KAAK,KAAK,CAF9B;AAKpBC,QAAAA,aAAaC,OAAO,CAAA,CAAD;AACzB,QAAM,CAACC,cAAcC,mBAAmBC,SAAS,IAAD;AAChD,QAAM,CAACC,iBAAiBC,sBAAsBF,SAASV,iBAAD;AAChD,QAAA,CAACa,eAAeC,oBAAoBJ,SACxCT,MAAMN,cAAc,CAAf,EAAkBoB,KAAK,CAA5B,CADgD;AAIlDC,YAAU,MAAM;AACLC,aAAAA,iBAAiB,eAAeC,SAAzC;AACSD,aAAAA,iBAAiB,aAAaE,KAAvC;AACSF,aAAAA,iBAAiB,YAAYE,KAAtC;AACSF,aAAAA,iBAAiB,aAAaC,SAAvC;AAEA,WAAO,MAAM;AACFE,eAAAA,oBAAoB,eAAeF,SAA5C;AACSE,eAAAA,oBAAoB,aAAaD,KAA1C;AACSC,eAAAA,oBAAoB,YAAYD,KAAzC;AACSC,eAAAA,oBAAoB,aAAaF,SAA1C;AAAA,IAAA;AAAA,EACD,CAXM;AAcHG,QAAAA,gBAAgB,CAACC,GAAGjB,MAAM;AAC9BI,oBAAgBJ,CAAD;AACfS,qBACES,OAAOC,OAAO,CAAA,GAAIX,eAAe;AAAA,MAC/B,CAACR,IAAIiB,EAAEG,QAAQnB,WAAWoB,QAAQrB,GAAGsB;AAAAA,IADvC,CAAA,CADc;AAAA,EAAA;AAMlB,QAAMR,QAASG,CAAM,MAAA;AACnBb,oBAAgB,IAAD;AAAA,EAAA;AAEXmB,QAAAA,aAAa,CAACN,GAAGjB,MAAM;AAC3BI,oBAAgBJ,CAAD;AACfS,qBACES,OAAOC,OAAO,CAAA,GAAIX,eAAe;AAAA,MAC/B,CAACR,IAAIiB,EAAEG,QAAQnB,WAAWoB,QAAQrB,GAAGsB;AAAAA,IADvC,CAAA,CADc;AAAA,EAAA;AAOlB,QAAMT,YAAaI,CAAM,MAAA;AACvB,QAAId,iBAAiB,MAAM;AACrBqB,UAAAA,SAASvB,WAAWoB,QAAQlB;AAC1BsB,YAAAA,kBAAiBC,KAAKC,IAC1BD,KAAKE,IACHX,EAAEY,UACEZ,EAAEY,QAAQ,GAAGC,UACbb,EAAEa,UAAUtB,cAAcL,eAC9B,IAAIqB,OAAOO,cAAc,CAJ3B,GAMA3C,aAAaoC,OAAOO,cAAc,CAPb;AAUvBtC,oBACEyB,OAAOC,OAAO,CAAA,GAAI3B,YAAY;AAAA,QAC5B,CAACW,eAAesB,kBAAiBD,OAAOO,cAAc;AAAA,MADxD,CAAA,CADW;AAMbxB,yBACEW,OAAOC,OAAO,CAAA,GAAIb,iBAAiB;AAAA,QACjC,CAACH,eAAesB;AAAAA,MADlB,CAAA,CADgB;AAMFO,sBAAAA,QAAQ,CAACC,GAAGC,UAAU;AACpC,YAAI/B,eAAe+B,SAASV,OAAOF,cAAcW,GAAG;AAClD1B,6BACEW,OAAOC,OAAO,CAAA,GAAIb,iBAAiB;AAAA,YACjC,CAAC4B,QAAQT,kBAAiB;AAAA,UAD5B,CAAA,CADgB;AAMlBhC,wBACEyB,OAAOC,OAAO,CAAA,GAAI3B,YAAY;AAAA,YAC5B,CAAC0C,QAAQT,kBAAiB;AAAA,UAD5B,CAAA,CADW;AAAA,QAKd;AAED,YAAItB,eAAe+B,SAASV,OAAOF,cAAcW,GAAG;AAClD1B,6BACEW,OAAOC,OAAO,CAAA,GAAIb,iBAAiB;AAAA,YACjC,CAAC4B,QAAQT,kBAAiB;AAAA,UAD5B,CAAA,CADgB;AAKlBhC,wBACEyB,OAAOC,OAAO,CAAA,GAAI3B,YAAY;AAAA,YAC5B,CAAC0C,QAAQT,kBAAiB;AAAA,UAD5B,CAAA,CADW;AAAA,QAKd;AAAA,MAAA,CA1BH;AA6BA/B,iBAAWY,eAAD;AAAA,IACX;AAAA,EAAA;AAGH,QAAMmB,iBAAkBzB,CAAM,MAAA;AACtBmC,UAAAA,eAAgB,KAAK9C,cAAe;AAE1C,UAAM+C,wBAAwB;AAC9B,UAAMC,kBAAkBD,wBAAwBD;AAChD,UAAMG,iBAAiBH,eAAeE;AAEhCE,UAAAA,yCAAyC,KAAKD;AAE7C,WAAA,KAAKC,0BAA0B,IAAIvC,IAAIsC;AAAAA,EAAAA;AAGhD3B,YAAU,MAAM;AACdJ,uBAAmBZ,iBAAD;AAAA,EAAA,GACjB,CAACP,YAAYC,WAAb,CAFM;AAIT,6BACE,OAAA;AAAA,IAAK,WAAU;AAAA,IAAf,UACGO,MAAMN,cAAc,CAAf,EACHoB,KAAK,CADP,EAEE8B,IAAI,CAACzC,GAAGC,0BACP,OAAA;AAAA,MAEE,KAAMyC,CAAAA,QAASxC,WAAWoB,QAAQrB,KAAKyC;AAAAA,MACvC,eAAgBxB,CAAAA,MAAMD,cAAcC,GAAGjB,CAAJ;AAAA,MACnC,cAAeiB,CAAAA,MAAMM,WAAWN,GAAGjB,CAAJ;AAAA,MAC/B,WAAU;AAAA,MACV,OAAO;AAAA,QACLT,QAAQD,cAAc,IAAIU,IAAIT;AAAAA,QAC9BmD,MAAO,GAAEpC,gBAAgBN;AAAAA,QACzB2C,KAAM,GAAElB,eAAezB,CAAD;AAAA,MAHjB;AAAA,IANT,GACOA,CADP,CAHH;AAAA,EAAA,CAFL;AAoBD;AAED4C,QAAQC,YAAY;AAAA,EAClBzD,YAAY0D,UAAUC,OAAOC;AAAAA,EAC7B3D,aAAayD,UAAUC,OAAOC;AAAAA,EAC9B1D,aAAawD,UAAUC,OAAOC;AAAAA,EAC9BzD,QAAQuD,UAAUC,OAAOC;AAAAA,EACzBxD,YAAYsD,UAAUG,MAAMD;AAAAA,EAC5BvD,eAAeqD,UAAUI,KAAKF;AAAAA,EAC9BtD,YAAYoD,UAAUI;AAPJ;;ACrJsB,mCAAA;AAAA,EAAEC;AAAAA,EAAYC;AAAAA,EAAY7D;AAAAA,GAAU;AACtE8D,QAAAA,WAAWnD,OAAO,CAAA,CAAD;AACjBoD,QAAAA,UAAUpD,OAAO,IAAD;AAChB,QAAA,CAACqD,UAAUC,eAAenD,SAAST,MAAMuD,WAAWrD,MAAZ,EAAoBY,KAAK,CAA9B,CAAD;AACxC,QAAM,CAAClB,YAAYC,iBAAiBY,SAAS,CAAD,CAAA;AAC5C,QAAM,CAACjB,YAAYqE,iBAAiBpD,SAAS,CAAD;AAC5C,QAAM,CAAChB,aAAaqE,kBAAkBrD,SAAS,CAAD;AAExCsD,QAAAA,oBAAoB/D,MAAMC,KAC9B;AAAA,IAAEC,QAAQqD,WAAWrD;AAAAA,EAAAA,GACrB,CAACC,GAAGC,MAAOZ,aAAa+D,WAAWrD,cAAe,EAF1B;AAK1B,QAAMJ,aAAcY,CAAoB,oBAAA;AAEpCiD,gBAAAA,SAASf,IAAI,CAACoB,OAAOC,QAAQC,aAAaD,KAAKvD,eAAN,CAAzC,CADS;AAAA,EAAA;AAKPwD,QAAAA,eAAe,CAAC9D,GAAGM,oBAAoB;AACrCyD,UAAAA,YAAYV,SAAShC,QAAQrB,GAAG+B;AAEtC,QAAI/B,MAAM,GAAG;AACJR,aAAAA,WAAWQ,KAAK,IAAI+D,YAAY;AAAA,IACxC;AAGGZ,QAAAA,WAAWrD,SAAS,MAAME,GAAG;AAC/B,yBAAmBA,KAAKM,gBAAgBN,IAAI,MAAM,IAAI+D,YAAY;AAAA,IACnE;AAGD,4BAAwB/D,IAAI,KAAKM,gBAAgBN,MAAM,IAAI+D,YAAY;AAAA,EAAA;AAGzEpD,YAAU,MAAM;AACd,UAAMqD,cAAcV,QAAQjC;AAC5B,UAAM4C,iBAAiB,IAAIC,eAAe,CAAC,CAACC,UAAUpE,OAAO;AAC3D0D,oBAAcU,MAAMC,OAAOC,sBAAb,EAAqCC,KAAtC;AACbZ,qBAAeS,MAAMC,OAAOC,sBAAb,EAAqCE,MAAtC;AAAA,IAAA,CAFO;AAIvBN,mBAAeO,QAAQR,WAAvB;AAEO,WAAA,MAAMC,eAAeQ;EAC7B,GAAE,CATM,CAAA;AAWT9D,YAAU,MAAM;AACd,QAAI+D,uBAAuBnB,SAASf,IAClC,CAACoB,OAAO5D,MACLZ,aAAa+D,WAAWrD,SAAW,KAAIE,IAAI,KAAK,MACjDqD,SAAShC,QAAQrB,GAAG+B,cAAc,CAHX;AAK3ByB,gBAAYkB,oBAAD;AAAA,EAAA,GACV,CAACtF,UAAD,CAPM;AASTuB,YAAU,MAAM;AACdlB,kBAAckE,iBAAD;AAAA,EAAA,GACZ,CAACvE,UAAD,CAFM;AAIT,8BACE,OAAA;AAAA,IAAK,OAAO;AAAA,MAAEuF,UAAU;AAAA,IAAZ;AAAA,IAAZ,UACE,CAAAC,oBAAA,MAAA;AAAA,MAAI,WAAU;AAAA,MAAO,KAAKtB;AAAAA,MAA1B,UACGH,WAAWX,IAAI,CAACqC,OAAO7E,2BACtB,MAAA;AAAA,QAEE,OAAO;AAAA,UACLT,QAAQ4D,WAAWrD,SAAU,KAAIE,IAAI,KAAKT;AAAAA,UAC1C+E,OAAQ,GAAE9E,WAAWQ;AAAAA,QAFhB;AAAA,QAFT,UAOE,CAAA4E,oBAAA,OAAA;AAAA,UAAK,KAAKC;AAAAA,UAAO,KAAI;AAAA,UAAM,OAAO;AAAA,YAAEP,OAAOlF;AAAAA,UAAT;AAAA,QAAlC,CAAA,GACCgE,WAAWtD,SAAS,yBACnB,QAAA;AAAA,UACE,KAAM2C,CAAAA,QAASY,SAAShC,QAAQrB,KAAKyC;AAAAA,UACrC,OAAO;AAAA,YAAEC,MAAO,GAAEa,SAASvD;AAAAA,UAApB;AAAA,UAFT,UAIGoD,WAAWpD;AAAAA,QAAAA,CAblB,CAAA;AAAA,MAAA,GACOA,CADP,CADD;AAAA,IAAA,CAFL,GAsBE4E,oBAAC,SAAD;AAAA,MACE;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA,aAAazB,WAAWrD;AAAAA,MACxB;AAAA,IAAA,CA7BJ,CAAA;AAAA,EAAA,CADF;AAkCD;AAEDgF,0BAA0BC,eAAe;AAAA,EACvCxF,QAAQ;AAAA,EACR6D,YAAY,CAAA;AAF2B;AAKzC0B,0BAA0BjC,YAAY;AAAA,EACpCM,YAAYL,UAAUG,MAAMD;AAAAA,EAC5BI,YAAYN,UAAUG;AAAAA,EACtB1D,QAAQuD,UAAUC;AAHkB;;"}